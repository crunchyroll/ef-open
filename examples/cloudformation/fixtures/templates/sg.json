{
  "AWSTemplateFormatVersion": "2010-09-09",
  "Description": "{{ENV}}-sg",
  "Parameters": {
    "OfficeCidrWifiParam": {
      "Type": "String",
      "Default": "1.2.3.4/32"
    },
    "OfficeCidrVpnParam": {
      "Type": "String",
      "Default": "1.2.3.5/32"
    },
    "OfficeCidrWiredParam": {
      "Type": "String",
      "Default": "2.3.4.5/32"
    }
  },
  "Resources": {
    "SgOfficeCidrWifi22": {
      "Type": "AWS::EC2::SecurityGroupIngress",
      "Properties": {
        "GroupId": "{{aws:ec2:security-group/security-group-id,{{ENV}}-office-cidr-ingress}}",
        "CidrIp": { "Ref": "OfficeCidrWifiParam" },
        "FromPort": 22,
        "ToPort": 22,
        "IpProtocol": "tcp"
      }
    },
    "SgOfficeCidrWifi443": {
      "Type": "AWS::EC2::SecurityGroupIngress",
      "Properties": {
        "GroupId": "{{aws:ec2:security-group/security-group-id,{{ENV}}-office-cidr-ingress}}",
        "CidrIp": { "Ref": "OfficeCidrWifiParam" },
        "FromPort": 443,
        "ToPort": 443,
        "IpProtocol": "tcp"
      }
    },
    "SgOfficeCidrWifi80": {
      "Type": "AWS::EC2::SecurityGroupIngress",
      "Properties": {
        "GroupId": "{{aws:ec2:security-group/security-group-id,{{ENV}}-office-cidr-ingress}}",
        "CidrIp": { "Ref": "OfficeCidrWifiParam" },
        "FromPort": 80,
        "ToPort": 80,
        "IpProtocol": "tcp"
      }
    },
    "SgOfficeCidrWifi8000": {
      "Type": "AWS::EC2::SecurityGroupIngress",
      "Properties": {
        "GroupId": "{{aws:ec2:security-group/security-group-id,{{ENV}}-office-cidr-ingress}}",
        "CidrIp": { "Ref": "OfficeCidrWifiParam" },
        "FromPort": 8000,
        "ToPort": 8000,
        "IpProtocol": "tcp"
      }
    },
    "SgOfficeCidrVpnEgress22": {
      "Type": "AWS::EC2::SecurityGroupIngress",
      "Properties": {
        "GroupId": "{{aws:ec2:security-group/security-group-id,{{ENV}}-office-cidr-ingress}}",
        "CidrIp": { "Ref": "OfficeCidrVpnParam" },
        "FromPort": 22,
        "ToPort": 22,
        "IpProtocol": "tcp"
      }
    },
    "SgOfficeCidrVpnEgress443": {
      "Type": "AWS::EC2::SecurityGroupIngress",
      "Properties": {
        "GroupId": "{{aws:ec2:security-group/security-group-id,{{ENV}}-office-cidr-ingress}}",
        "CidrIp": { "Ref": "OfficeCidrVpnParam" },
        "FromPort": 443,
        "ToPort": 443,
        "IpProtocol": "tcp"
      }
    },
    "SgOfficeCidrVpnEgress80": {
      "Type": "AWS::EC2::SecurityGroupIngress",
      "Properties": {
        "GroupId": "{{aws:ec2:security-group/security-group-id,{{ENV}}-office-cidr-ingress}}",
        "CidrIp": { "Ref": "OfficeCidrVpnParam" },
        "FromPort": 80,
        "ToPort": 80,
        "IpProtocol": "tcp"
      }
    },
    "SgOfficeCidrVpnEgress8000": {
      "Type": "AWS::EC2::SecurityGroupIngress",
      "Properties": {
        "GroupId": "{{aws:ec2:security-group/security-group-id,{{ENV}}-office-cidr-ingress}}",
        "CidrIp": { "Ref": "OfficeCidrVpnParam" },
        "FromPort": 8000,
        "ToPort": 8000,
        "IpProtocol": "tcp"
      }
    },
    "SgOfficeCidrWired22": {
      "Type": "AWS::EC2::SecurityGroupIngress",
      "Properties": {
        "GroupId": "{{aws:ec2:security-group/security-group-id,{{ENV}}-office-cidr-ingress}}",
        "CidrIp": { "Ref": "OfficeCidrWiredParam" },
        "FromPort": 22,
        "ToPort": 22,
        "IpProtocol": "tcp"
      }
    },
    "SgOfficeCidrWired443": {
      "Type": "AWS::EC2::SecurityGroupIngress",
      "Properties": {
        "GroupId": "{{aws:ec2:security-group/security-group-id,{{ENV}}-office-cidr-ingress}}",
        "CidrIp": { "Ref": "OfficeCidrWiredParam" },
        "FromPort": 443,
        "ToPort": 443,
        "IpProtocol": "tcp"
      }
    },
    "SgOfficeCidrWired80": {
      "Type": "AWS::EC2::SecurityGroupIngress",
      "Properties": {
        "GroupId": "{{aws:ec2:security-group/security-group-id,{{ENV}}-office-cidr-ingress}}",
        "CidrIp": { "Ref": "OfficeCidrWiredParam" },
        "FromPort": 80,
        "ToPort": 80,
        "IpProtocol": "tcp"
      }
    },
    "SgOfficeCidrWired8000": {
      "Type": "AWS::EC2::SecurityGroupIngress",
      "Properties": {
        "GroupId": "{{aws:ec2:security-group/security-group-id,{{ENV}}-office-cidr-ingress}}",
        "CidrIp": { "Ref": "OfficeCidrWiredParam" },
        "FromPort": 8000,
        "ToPort": 8000,
        "IpProtocol": "tcp"
      }
    }
  }
}
